// Question templates for each plan step with validation requirements
export interface StepQuestion {
  key: string;
  question: string;
  followUp?: string;
  type: 'text' | 'choice' | 'list';
  options?: string[];
  required: boolean;
}

export interface StepQuestions {
  stepTitle: string;
  botRole: string;
  greeting: string;
  questions: StepQuestion[];
  requiredFields: string[];
  exitCriteria: string;
  completionMessage: string;
  summaryPrompt: string;
  contextKeys: string[]; // Keys to store in bot_context for other bots
}

export const stepQuestionsMap: Record<string, StepQuestions> = {
  "–†–µ–∑—é–º–µ –Ω–∞ –±–∏–∑–Ω–µ—Å–∞": {
    stepTitle: "–†–µ–∑—é–º–µ –Ω–∞ –±–∏–∑–Ω–µ—Å–∞",
    botRole: "–ë–∏–∑–Ω–µ—Å –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä",
    greeting: `–ó–¥—Ä–∞–≤–µ–π—Ç–µ! üëã –ê–∑ —Å—ä–º –≤–∞—à–∏—è—Ç –ë–∏–∑–Ω–µ—Å –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä.

–ú–æ—è—Ç–∞ –∑–∞–¥–∞—á–∞ –µ –¥–∞ —Ä–∞–∑–±–µ—Ä–∞ –∫–∞–∫–≤–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–≤–∞ –≤–∞—à–∏—è—Ç –±–∏–∑–Ω–µ—Å, –∫–∞–∫–≤–∏ —Å–∞ —Ä–µ—Å—É—Ä—Å–∏—Ç–µ –≤–∏ –∏ –∫–∞–∫ –∏—Å–∫–∞—Ç–µ –¥–∞ —Ä–∞–±–æ—Ç–∏—Ç–µ.

–ó–∞ –¥–∞ –∑–∞–ø–æ—á–Ω–µ–º, –º–æ–ª—è –æ—Ç–≥–æ–≤–æ—Ä–µ—Ç–µ –Ω–∞ —Å–ª–µ–¥–Ω–∏—Ç–µ –≤—ä–ø—Ä–æ—Å–∏:

**1. –ö–∞–∫—ä–≤ –µ –≤–∞—à–∏—è—Ç –±–∏–∑–Ω–µ—Å?** (–ø—Ä–æ–¥—É–∫—Ç / —É—Å–ª—É–≥–∞ / SaaS / –æ–±—É—á–µ–Ω–∏–µ)
**2. –ó–∞ –∫–æ–≥–æ –µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω?** (–æ—Å–Ω–æ–≤–Ω–∞ –∞—É–¥–∏—Ç–æ—Ä–∏—è)
**3. –° –∫–æ–ª–∫–æ —á–æ–≤–µ–∫–∞ –µ–∫–∏–ø –∑–∞–ø–æ—á–≤–∞—Ç–µ?** (—Å–∞–º, 2-3 –¥—É—à–∏, 5+ –¥—É—à–∏)`,
    questions: [
      {
        key: "business_type",
        question: "–ö–∞–∫—ä–≤ –µ –≤–∞—à–∏—è—Ç –±–∏–∑–Ω–µ—Å? (–ø—Ä–æ–¥—É–∫—Ç, —É—Å–ª—É–≥–∞, SaaS, –æ–±—É—á–µ–Ω–∏–µ, –∫–æ–Ω—Å—É–ª—Ç–∞—Ü–∏–∏...)",
        type: "text",
        required: true
      },
      {
        key: "target_audience",
        question: "–ó–∞ –∫–æ–≥–æ –µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω? –ö–æ—è –µ –≤–∞—à–∞—Ç–∞ –æ—Å–Ω–æ–≤–Ω–∞ –∞—É–¥–∏—Ç–æ—Ä–∏—è?",
        type: "text",
        required: true
      },
      {
        key: "problem_solved",
        question: "–ö–∞–∫—ä–≤ –ø—Ä–æ–±–ª–µ–º —Ä–µ—à–∞–≤–∞ –∑–∞ —Ç—è—Ö?",
        type: "text",
        required: true
      },
      {
        key: "team_size",
        question: "–° –∫–æ–ª–∫–æ —á–æ–≤–µ–∫–∞ –µ–∫–∏–ø –∑–∞–ø–æ—á–≤–∞—Ç–µ? (—Å–∞–º, 2-3 –¥—É—à–∏, 5+ –¥—É—à–∏)",
        type: "text",
        required: true
      },
      {
        key: "hours_per_day",
        question: "–ö–æ–ª–∫–æ —á–∞—Å–∞ –Ω–∞ –¥–µ–Ω –∏—Å–∫–∞—Ç–µ –¥–∞ –æ—Ç–¥–µ–ª—è—Ç–µ –∑–∞ –ø—Ä–æ–µ–∫—Ç–∞? (2-3 —á–∞—Å–∞, 4-6 —á–∞—Å–∞, —Ü—è–ª –¥–µ–Ω)",
        type: "text",
        required: true
      },
      {
        key: "preferred_work_hours",
        question: "–í –∫–æ–∏ —á–∞—Å–æ–≤–µ –≤–∏ –µ –Ω–∞–π-—É–¥–æ–±–Ω–æ –¥–∞ —Ä–∞–±–æ—Ç–∏—Ç–µ? (—Å—É—Ç—Ä–∏–Ω 8-12, –æ–±—è–¥ 12-16, —Å–ª–µ–¥–æ–±–µ–¥ 16-20, –≤–µ—á–µ—Ä —Å–ª–µ–¥ 20)",
        type: "text",
        required: true
      },
      {
        key: "revenue_model",
        question: "–ö–∞–∫ –ø–µ—á–µ–ª–∏ –ø–∞—Ä–∏ –±–∏–∑–Ω–µ—Å—ä—Ç? (–µ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–∏ –ø—Ä–æ–¥–∞–∂–±–∏, –∞–±–æ–Ω–∞–º–µ–Ω—Ç, –∫–æ–º–∏—Å–∏–æ–Ω–Ω–∞, —Ä–µ–∫–ª–∞–º–∞...)",
        type: "text",
        required: true
      },
      {
        key: "main_goal",
        question: "–ö–∞–∫–≤–∞ –µ –æ—Å–Ω–æ–≤–Ω–∞—Ç–∞ –≤–∏ —Ü–µ–ª? (—Ä–∞—Å—Ç–µ–∂, –ø—Ä–æ–¥–∞–∂–±–∏, –º–∞—â–∞–±–∏—Ä–∞–Ω–µ, –Ω–∞–≤–ª–∏–∑–∞–Ω–µ –Ω–∞ –Ω–æ–≤ –ø–∞–∑–∞—Ä...)",
        type: "text",
        required: true
      }
    ],
    requiredFields: ["business_type", "target_audience", "problem_solved", "team_size", "hours_per_day", "preferred_work_hours", "revenue_model", "main_goal"],
    exitCriteria: "–í—Å–∏—á–∫–∏ –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–∏ –ø–æ–ª–µ—Ç–∞ —Å–∞ –ø–æ–ø—ä–ª–Ω–µ–Ω–∏ —Å —è—Å–Ω–∏ –æ—Ç–≥–æ–≤–æ—Ä–∏",
    completionMessage: "–ò–º–∞–º —è—Å–Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∞ –∑–∞ —Ç–≤–æ—è –±–∏–∑–Ω–µ—Å, –µ–∫–∏–ø –∏ –≤—Ä–µ–º–µ. –ú–æ–∂–µ–º –¥–∞ –ø—Ä–µ–º–∏–Ω–µ–º –∫—ä–º —Å–ª–µ–¥–≤–∞—â–æ—Ç–æ –Ω–∏–≤–æ ‚Äì –ü–∞–∑–∞—Ä–µ–Ω –∞–Ω–∞–ª–∏–∑.",
    summaryPrompt: "–°—ä–∑–¥–∞–π –∫—Ä–∞—Ç–∫–æ —Ä–µ–∑—é–º–µ (5-6 —Ä–µ–¥–∞) –Ω–∞ –±–∏–∑–Ω–µ—Å–∞ –±–∞–∑–∏—Ä–∞–Ω–æ –Ω–∞: —Ç–∏–ø –±–∏–∑–Ω–µ—Å, —Ü–µ–ª–µ–≤–∞ –∞—É–¥–∏—Ç–æ—Ä–∏—è, —Ä–µ—à–∞–≤–∞–Ω –ø—Ä–æ–±–ª–µ–º, —Ä–∞–∑–º–µ—Ä –Ω–∞ –µ–∫–∏–ø–∞, –Ω–∞–ª–∏—á–Ω–æ –≤—Ä–µ–º–µ –∏ –æ—Å–Ω–æ–≤–Ω–∞ —Ü–µ–ª.",
    contextKeys: ["business_type", "target_audience", "problem_solved", "team_size", "hours_per_day", "preferred_work_hours", "revenue_model", "main_goal"]
  },
  
  "–ü–∞–∑–∞—Ä–µ–Ω –∞–Ω–∞–ª–∏–∑": {
    stepTitle: "–ü–∞–∑–∞—Ä–µ–Ω –∞–Ω–∞–ª–∏–∑",
    botRole: "–ü–∞–∑–∞—Ä–µ–Ω –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä",
    greeting: `–û—Ç–ª–∏—á–Ω–æ! üìä –ê–∑ —Å—ä–º –≤–∞—à–∏—è—Ç –ü–∞–∑–∞—Ä–µ–Ω –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä.

–í–µ—á–µ –∑–Ω–∞–º –∑–∞ –≤–∞—à–∏—è –±–∏–∑–Ω–µ—Å –∏ –µ–∫–∏–ø –æ—Ç –∫–æ–ª–µ–≥–∞—Ç–∞ –º–∏. –°–µ–≥–∞ —Ç—Ä—è–±–≤–∞ –¥–∞ –æ–ø—Ä–µ–¥–µ–ª–∏–º –∫—ä–¥–µ –µ –≤—ä–∑–º–æ–∂–Ω–æ—Å—Ç—Ç–∞ –Ω–∞ –ø–∞–∑–∞—Ä–∞.

–ù–µ–∫–∞ –∑–∞–ø–æ—á–Ω–µ–º:

**1. –ö–æ–∏ —Å–∞ –≤–∞—à–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∏?** (–º–∏–Ω–∏–º—É–º 3)
**2. –ö–∞–∫ –∫–ª–∏–µ–Ω—Ç–∏—Ç–µ –∫—É–ø—É–≤–∞—Ç –≤ –º–æ–º–µ–Ω—Ç–∞?**
**3. –ö–∞–∫–≤–∏ —Å–∞ –∞–ª—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏—Ç–µ –∑–∞ –∫–ª–∏–µ–Ω—Ç–∏—Ç–µ?**`,
    questions: [
      {
        key: "competitors",
        question: "–ö–æ–∏ —Å–∞ –≤–∞—à–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∏? –ù–∞–∑–æ–≤–µ—Ç–µ –º–∏–Ω–∏–º—É–º 3.",
        type: "text",
        required: true
      },
      {
        key: "buying_behavior",
        question: "–ö–∞–∫ –∫–ª–∏–µ–Ω—Ç–∏—Ç–µ –∫—É–ø—É–≤–∞—Ç –ø–æ–¥–æ–±–Ω–∏ —Ä–µ—à–µ–Ω–∏—è –≤ –º–æ–º–µ–Ω—Ç–∞?",
        type: "text",
        required: true
      },
      {
        key: "alternatives",
        question: "–ö–∞–∫–≤–∏ —Å–∞ –∞–ª—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏—Ç–µ –∑–∞ –∫–ª–∏–µ–Ω—Ç–∏—Ç–µ? (–≤–∫–ª—é—á–∏—Ç–µ–ª–Ω–æ '–Ω–∏—â–æ –Ω–µ –ø—Ä–∞–≤—è')",
        type: "text",
        required: true
      },
      {
        key: "market_prices",
        question: "–ö–∞–∫–≤–∏ —Å–∞ –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª–Ω–∏—Ç–µ —Ü–µ–Ω–∏ –Ω–∞ –ø–∞–∑–∞—Ä–∞ –∑–∞ –ø–æ–¥–æ–±–Ω–∏ –ø—Ä–æ–¥—É–∫—Ç–∏/—É—Å–ª—É–≥–∏?",
        type: "text",
        required: true
      },
      {
        key: "entry_barriers",
        question: "–ö–∞–∫–≤–∏ —Å–∞ –æ—Å–Ω–æ–≤–Ω–∏—Ç–µ –±–∞—Ä–∏–µ—Ä–∏ –∑–∞ –≤–ª–∏–∑–∞–Ω–µ –Ω–∞ —Ç–æ–∑–∏ –ø–∞–∑–∞—Ä?",
        type: "text",
        required: true
      }
    ],
    requiredFields: ["competitors", "buying_behavior", "alternatives", "market_prices", "entry_barriers"],
    exitCriteria: "–Ø—Å–Ω–æ –µ –∫–æ–π –ø–µ—á–µ–ª–∏, –∫–æ–π –≥—É–±–∏ –∏ –∫—ä–¥–µ –∏–º–∞ –ø—Ä–∞–∑–Ω–æ –º—è—Å—Ç–æ –Ω–∞ –ø–∞–∑–∞—Ä–∞",
    completionMessage: "–ü–∞–∑–∞—Ä—ä—Ç –µ –∞–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω –∏ –∏–º–∞ —è—Å–Ω–∞ –≤—ä–∑–º–æ–∂–Ω–æ—Å—Ç –∑–∞ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–∞–Ω–µ. –ì–æ—Ç–æ–≤–∏ —Å–º–µ –¥–∞ –ø—Ä–µ–º–∏–Ω–µ–º –∫—ä–º –º–∞—Ä–∫–µ—Ç–∏–Ω–≥ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è.",
    summaryPrompt: "–ê–Ω–∞–ª–∏–∑–∏—Ä–∞–π –ø–∞–∑–∞—Ä–∞: –∫–æ–π –ø–µ—á–µ–ª–∏, –∫–æ–π –≥—É–±–∏, –∫—ä–¥–µ –∏–º–∞ –ø—Ä–∞–∑–Ω–æ –º—è—Å—Ç–æ. –ë–∞–∑–∏—Ä–∞–π —Å–µ –Ω–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∏—Ç–µ, –ø–æ–≤–µ–¥–µ–Ω–∏–µ—Ç–æ –Ω–∞ –∫—É–ø—É–≤–∞—á–∏—Ç–µ –∏ –±–∞—Ä–∏–µ—Ä–∏—Ç–µ.",
    contextKeys: ["competitors", "market_opportunity", "competitive_advantage"]
  },

  "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è": {
    stepTitle: "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è",
    botRole: "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ –°—Ç—Ä–∞—Ç–µ–≥ –∏ –ö–∞–º–ø–µ–π–Ω –ü–ª–∞–Ω–æ–≤–∏–∫",
    greeting: `–°—Ç—Ä–∞—Ö–æ—Ç–Ω–æ! üìà –ê–∑ —Å—ä–º –≤–∞—à–∏—è—Ç –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ –°—Ç—Ä–∞—Ç–µ–≥.

–ò–º–∞–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞ –±–∏–∑–Ω–µ—Å–∞, –µ–∫–∏–ø–∞ –∏ –ø–∞–∑–∞—Ä–∞ –æ—Ç –∫–æ–ª–µ–≥–∏—Ç–µ. –°–µ–≥–∞ —Ç—Ä—è–±–≤–∞ –¥–∞ –æ–ø—Ä–µ–¥–µ–ª–∏–º –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤–∏—Ç–µ –∫–∞–Ω–∞–ª–∏ –∏ –¥–∞ —Å—ä–∑–¥–∞–¥–µ–º **–∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏ —Å–µ–¥–º–∏—á–Ω–∏ –∫–∞–º–ø–∞–Ω–∏–∏**.

üóìÔ∏è **–ó–Ω–∞–º –∫–æ—è –¥–∞—Ç–∞ –µ –¥–Ω–µ—Å** –∏ —â–µ —Å—ä–∑–¥–∞–≤–∞–º–µ –ø–ª–∞–Ω–æ–≤–µ –∑–∞ —Å–ª–µ–¥–≤–∞—â–∏—Ç–µ 4 —Å–µ–¥–º–∏—Ü–∏!

–ù–µ–∫–∞ –∑–∞–ø–æ—á–Ω–µ–º:

**1. –ö–æ–∏ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥ –∫–∞–Ω–∞–ª–∏ –ø–ª–∞–Ω–∏—Ä–∞—Ç–µ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ?** (Instagram, TikTok, Facebook, Email, SEO...)
**2. –ö–∞–∫—ä–≤ –±—é–¥–∂–µ—Ç –∏–º–∞—Ç–µ –∑–∞ —Ä–µ–∫–ª–∞–º–∏ –Ω–∞ —Å–µ–¥–º–∏—Ü–∞?**
**3. –ö–∞–∫–≤–∞ –ø—Ä–æ–º–æ—Ü–∏—è/–æ—Ñ–µ—Ä—Ç–∞ –∏—Å–∫–∞—Ç–µ –¥–∞ –ø—É—Å–Ω–µ—Ç–µ –ø—ä—Ä–≤–∞—Ç–∞ —Å–µ–¥–º–∏—Ü–∞?**`,
    questions: [
      {
        key: "positioning",
        question: "–ö–∞–∫–≤–æ –µ –≤–∞—à–µ—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–∞–Ω–µ? –ó–∞—â–æ –∫–ª–∏–µ–Ω—Ç—ä—Ç –¥–∞ –∏–∑–±–µ—Ä–µ –≤–∞—Å, –∞ –Ω–µ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç?",
        type: "text",
        required: true
      },
      {
        key: "marketing_channels",
        question: "–ö–æ–∏ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥ –∫–∞–Ω–∞–ª–∏ —â–µ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ? (Instagram, TikTok, Facebook Ads, Email, SEO, YouTube, LinkedIn...)",
        type: "text",
        required: true
      },
      {
        key: "sales_channels",
        question: "–ö–∞–∫–≤–∏ —Å–∞ –∫–∞–Ω–∞–ª–∏—Ç–µ –∑–∞ –ø—Ä–æ–¥–∞–∂–±–∏ –¥–æ –∫—Ä–∞–π–Ω–∏—è –∫–ª–∏–µ–Ω—Ç? (–æ–Ω–ª–∞–π–Ω –º–∞–≥–∞–∑–∏–Ω, –¥–∏—Ä–µ–∫—Ç–Ω–∏ –ø—Ä–æ–¥–∞–∂–±–∏, –ø–∞—Ä—Ç–Ω—å–æ—Ä–∏, –¥–∏—Å—Ç—Ä–∏–±—É—Ç–æ—Ä–∏, marketplace...)",
        type: "text",
        required: true
      },
      {
        key: "main_message",
        question: "–ö–∞–∫–≤–æ –µ –æ—Å–Ω–æ–≤–Ω–æ—Ç–æ –≤–∏ –ø–æ—Å–ª–∞–Ω–∏–µ –∫—ä–º –∫–ª–∏–µ–Ω—Ç–∏—Ç–µ?",
        type: "text",
        required: true
      },
      {
        key: "lead_mechanism",
        question: "–ö–∞–∫ —â–µ —Ö–≤–∞—â–∞—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ—Ç–æ? –ö–∞–∫—ä–≤ –µ –≤–∞—à–∏—è—Ç lead –º–∞–≥–Ω–∏—Ç –∏–ª–∏ hook?",
        type: "text",
        required: true
      },
      {
        key: "cta",
        question: "–ö–∞–∫–≤–∞ –µ —Å–ª–µ–¥–≤–∞—â–∞—Ç–∞ —Å—Ç—ä–ø–∫–∞ –∑–∞ –∫–ª–∏–µ–Ω—Ç–∞? (CTA - Call to Action)",
        type: "text",
        required: true
      },
      {
        key: "weekly_ad_budget",
        question: "–ö–∞–∫—ä–≤ —Å–µ–¥–º–∏—á–µ–Ω –±—é–¥–∂–µ—Ç –∏–º–∞—Ç–µ –∑–∞ –ø–ª–∞—Ç–µ–Ω–∏ —Ä–µ–∫–ª–∞–º–∏? (–≤ –ª–µ–≤–∞)",
        type: "text",
        required: true
      },
      {
        key: "week1_promo",
        question: "–ö–∞–∫–≤–æ –∏—Å–∫–∞—Ç–µ –¥–∞ —Ç–∞—Ä–≥–µ—Ç–∏—Ä–∞—Ç–µ/–ø—Ä–æ–º–æ—Ç–∏—Ä–∞—Ç–µ –¢–ê–ó–ò —Å–µ–¥–º–∏—Ü–∞? (–Ω–∞–ø—Ä: 30% –æ—Ç—Å—Ç—ä–ø–∫–∞, –Ω–æ–≤ –ø—Ä–æ–¥—É–∫—Ç, —Ä–∞–Ω–Ω–∏ –∑–∞–ø–∏—Å–≤–∞–Ω–∏—è...)",
        type: "text",
        required: true
      },
      {
        key: "week2_target",
        question: "–ö–æ–≥–æ –∏—Å–∫–∞—Ç–µ –¥–∞ —Ç–∞—Ä–≥–µ—Ç–∏—Ä–∞—Ç–µ –°–õ–ï–î–í–ê–©–ê–¢–ê —Å–µ–¥–º–∏—Ü–∞? (–Ω–∞–ø—Ä: –º–æ–¥–µ–ª–∏, —Å—Ç—É–¥–µ–Ω—Ç–∏, –º–∏–∫—Ä–æ–∏–Ω—Ñ–ª—É–µ–Ω—Å—ä—Ä–∏, –±–∏–∑–Ω–µ—Å–∏...)",
        type: "text",
        required: true
      }
    ],
    requiredFields: ["positioning", "marketing_channels", "sales_channels", "main_message", "lead_mechanism", "cta", "weekly_ad_budget", "week1_promo", "week2_target"],
    exitCriteria: "–ò–º–∞ —è—Å–Ω–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–∞–Ω–µ, –º–∞—Ä–∫–µ—Ç–∏–Ω–≥ –∫–∞–Ω–∞–ª–∏ –∏ –∑–∞–ø–∏—Å–∞–Ω–∏ —Å–µ–¥–º–∏—á–Ω–∏ –∫–∞–º–ø–∞–Ω–∏–∏",
    completionMessage: "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è—Ç–∞ –µ —è—Å–Ω–∞ –∏ —Å–µ–¥–º–∏—á–Ω–∏—Ç–µ –∫–∞–º–ø–∞–Ω–∏–∏ —Å–∞ –∑–∞–ø–∏—Å–∞–Ω–∏. –ú–æ–∂–µ–º –¥–∞ –ø—Ä–µ–º–∏–Ω–µ–º –∫—ä–º –æ–ø–µ—Ä–∞—Ç–∏–≤–µ–Ω –ø–ª–∞–Ω.",
    summaryPrompt: "–°—ä–∑–¥–∞–π –º–∞—Ä–∫–µ—Ç–∏–Ω–≥ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Å —è—Å–Ω–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–∞–Ω–µ, –∏–∑–±—Ä–∞–Ω–∏ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥ –∏ –ø—Ä–æ–¥–∞–∂–±–µ–Ω–∏ –∫–∞–Ω–∞–ª–∏, –æ—Å–Ω–æ–≤–Ω–æ –ø–æ—Å–ª–∞–Ω–∏–µ, lead –º–µ—Ö–∞–Ω–∏–∑—ä–º –∏ CTA.",
    contextKeys: ["positioning", "marketing_channels", "sales_channels", "main_message", "cta", "weekly_ad_budget", "week1_promo", "week2_target"]
  },

  "–û–ø–µ—Ä–∞—Ç–∏–≤–µ–Ω –ø–ª–∞–Ω": {
    stepTitle: "–û–ø–µ—Ä–∞—Ç–∏–≤–µ–Ω –ø–ª–∞–Ω",
    botRole: "–û–ø–µ—Ä–∞—Ç–∏–≤–µ–Ω –ú–µ–Ω–∏–¥–∂—ä—Ä",
    greeting: `–ü–µ—Ä—Ñ–µ–∫—Ç–Ω–æ! ‚öôÔ∏è –ê–∑ —Å—ä–º –≤–∞—à–∏—è—Ç –û–ø–µ—Ä–∞—Ç–∏–≤–µ–Ω –ú–µ–Ω–∏–¥–∂—ä—Ä.

–ò–º–∞–º —Å—Ç—Ä–∞—Ç–µ–≥–∏—è—Ç–∞ –æ—Ç –º–∞—Ä–∫–µ—Ç–∏–Ω–≥ –∫–æ–ª–µ–≥–∞—Ç–∞ –∏ –∑–Ω–∞–º –∫–æ–ª–∫–æ –≤—Ä–µ–º–µ –∏–º–∞—Ç–µ. –°–µ–≥–∞ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å—ä–∑–¥–∞–¥–µ–º —Ä–µ–∞–ª–∏—Å—Ç–∏—á–µ–Ω –ø–ª–∞–Ω –∑–∞ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ.

–ù–µ–∫–∞ –∑–∞–ø–æ—á–Ω–µ–º:

**1. –ö–∞–∫–≤–∏ —Å–∞ —Ü–µ–ª–∏—Ç–µ –≤–∏ –∑–∞ –ø—ä—Ä–≤–∏—è –º–µ—Å–µ—Ü?**
**2. –ö–∞–∫–≤–∏ —Å–∞ —Ü–µ–ª–∏—Ç–µ –≤–∏ –∑–∞ –ø—ä—Ä–≤–∏—Ç–µ 3 –º–µ—Å–µ—Ü–∞?**
**3. –ö–∞–∫–≤–∏ —Ä–µ—Å—É—Ä—Å–∏ –∏–º–∞—Ç–µ –Ω–∞–ª–∏—á–Ω–∏?**`,
    questions: [
      {
        key: "monthly_goals_1",
        question: "–ö–∞–∫–≤–∏ —Å–∞ —Ü–µ–ª–∏—Ç–µ –≤–∏ –∑–∞ –ø—ä—Ä–≤–∏—è –º–µ—Å–µ—Ü? (–∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏ –∏ –∏–∑–º–µ—Ä–∏–º–∏)",
        type: "text",
        required: true
      },
      {
        key: "monthly_goals_3",
        question: "–ö–∞–∫–≤–∏ —Å–∞ —Ü–µ–ª–∏—Ç–µ –≤–∏ –∑–∞ –ø—ä—Ä–≤–∏—Ç–µ 3 –º–µ—Å–µ—Ü–∞? (–∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏ –∏ –∏–∑–º–µ—Ä–∏–º–∏)",
        type: "text",
        required: true
      },
      {
        key: "weekly_activities",
        question: "–ö–∞–∫–≤–∏ –æ—Å–Ω–æ–≤–Ω–∏ –¥–µ–π–Ω–æ—Å—Ç–∏ —â–µ —Å–µ –ø—Ä–∞–≤—è—Ç –≤—Å—è–∫–∞ —Å–µ–¥–º–∏—Ü–∞? (—Å—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ, –æ–±–∞–∂–¥–∞–Ω–∏—è, —Ä–µ–∫–ª–∞–º–∏...)",
        type: "text",
        required: true
      },
      {
        key: "who_does_it",
        question: "–ö–æ–π –∏–∑–ø—ä–ª–Ω—è–≤–∞ –∑–∞–¥–∞—á–∏—Ç–µ? (–≤–∏–µ, –µ–∫–∏–ø, AI, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è, –∞—É—Ç—Å–æ—Ä—Å–∏–Ω–≥)",
        type: "text",
        required: true
      },
      {
        key: "resources_needed",
        question: "–ö–∞–∫–≤–∏ —Ä–µ—Å—É—Ä—Å–∏ —Å–∞ –Ω—É–∂–Ω–∏? (–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏, —Å–æ—Ñ—Ç—É–µ—Ä, –±—é–¥–∂–µ—Ç)",
        type: "text",
        required: true
      },
      {
        key: "priorities",
        question: "–ö–∞–∫–≤–∏ —Å–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∏—Ç–µ? –ö–æ–µ —Å–µ –ø—Ä–∞–≤–∏ –ø—ä—Ä–≤–æ?",
        type: "text",
        required: true
      }
    ],
    requiredFields: ["monthly_goals_1", "monthly_goals_3", "weekly_activities", "who_does_it", "resources_needed", "priorities"],
    exitCriteria: "–ò–º–∞ —è—Å–µ–Ω action plan —Å —Ü–µ–ª–∏ –ø–æ –º–µ—Å–µ—Ü–∏ –∏ —Å–µ–¥–º–∏—á–Ω–∏ –¥–µ–π–Ω–æ—Å—Ç–∏",
    completionMessage: "–ò–º–∞–º–µ –∫–æ–Ω–∫—Ä–µ—Ç–µ–Ω –ø–ª–∞–Ω –∑–∞ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ. –°–ª–µ–¥–≤–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–∞—Ç–∞ –ø—Ä–æ–≥–Ω–æ–∑–∞.",
    summaryPrompt: "–°—ä–∑–¥–∞–π –æ–ø–µ—Ä–∞—Ç–∏–≤–µ–Ω –ø–ª–∞–Ω —Å –º–µ—Å–µ—á–Ω–∏ —Ü–µ–ª–∏, —Å–µ–¥–º–∏—á–Ω–∏ –¥–µ–π–Ω–æ—Å—Ç–∏, –æ—Ç–≥–æ–≤–æ—Ä–Ω–∏—Ü–∏, —Ä–µ—Å—É—Ä—Å–∏ –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∏.",
    contextKeys: ["monthly_goals_1", "monthly_goals_3", "weekly_activities", "team_structure", "priorities"]
  },

  "–§–∏–Ω–∞–Ω—Å–æ–≤–∏ –ø—Ä–æ–≥–Ω–æ–∑–∏": {
    stepTitle: "–§–∏–Ω–∞–Ω—Å–æ–≤–∏ –ø—Ä–æ–≥–Ω–æ–∑–∏",
    botRole: "–§–∏–Ω–∞–Ω—Å–æ–≤ –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä",
    greeting: `–ß—É–¥–µ—Å–Ω–æ! üí∞ –ê–∑ —Å—ä–º –≤–∞—à–∏—è—Ç –§–∏–Ω–∞–Ω—Å–æ–≤ –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä.

–ò–º–∞–º –ø—ä–ª–Ω–∞—Ç–∞ –∫–∞—Ä—Ç–∏–Ω–∞ –æ—Ç –∫–æ–ª–µ–≥–∏—Ç–µ ‚Äì –±–∏–∑–Ω–µ—Å –º–æ–¥–µ–ª, –ø–∞–∑–∞—Ä, —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∏ –æ–ø–µ—Ä–∞—Ü–∏–∏. –°–µ–≥–∞ —Ç—Ä—è–±–≤–∞ –¥–∞ –≤–∏–¥–∏–º –¥–∞–ª–∏ –∏–º–∞ —Å–º–∏—Å—ä–ª –∏–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏.

–ù–µ–∫–∞ –∑–∞–ø–æ—á–Ω–µ–º:

**1. –ö–∞–∫–≤–∏ —Å–∞ –æ—Å–Ω–æ–≤–Ω–∏—Ç–µ –≤–∏ —Ä–∞–∑—Ö–æ–¥–∏?**
**2. –ö–∞–∫–≤–∏ —Å–∞ –æ—á–∞–∫–≤–∞–Ω–∏—Ç–µ –ø—Ä–∏—Ö–æ–¥–∏?**
**3. –ö–∞–∫—ä–≤ –±—é–¥–∂–µ—Ç –∏–º–∞—Ç–µ –∑–∞ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥?**`,
    questions: [
      {
        key: "main_costs",
        question: "–ö–∞–∫–≤–∏ —Å–∞ –æ—Å–Ω–æ–≤–Ω–∏—Ç–µ –≤–∏ —Ä–∞–∑—Ö–æ–¥–∏? (—Ñ–∏–∫—Å–∏—Ä–∞–Ω–∏ –∏ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏)",
        type: "text",
        required: true
      },
      {
        key: "main_revenue",
        question: "–ö–∞–∫–≤–∏ —Å–∞ –æ—á–∞–∫–≤–∞–Ω–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω–∏ –ø—Ä–∏—Ö–æ–¥–∏ –∑–∞ –ø—ä—Ä–≤–∏—Ç–µ 3 –º–µ—Å–µ—Ü–∞?",
        type: "text",
        required: true
      },
      {
        key: "marketing_budget",
        question: "–ö–∞–∫—ä–≤ –º–µ—Å–µ—á–µ–Ω –±—é–¥–∂–µ—Ç –∏–º–∞—Ç–µ –∑–∞ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥ –∏ —Ä–µ–∫–ª–∞–º–∞?",
        type: "text",
        required: true
      },
      {
        key: "cac",
        question: "–ö–∞–∫—ä–≤ –µ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤—ä—á–Ω–∏—è—Ç —Ä–∞–∑—Ö–æ–¥ –∑–∞ –ø—Ä–∏–¥–æ–±–∏–≤–∞–Ω–µ –Ω–∞ –∫–ª–∏–µ–Ω—Ç (CAC)?",
        type: "text",
        required: true
      },
      {
        key: "break_even",
        question: "–ö–∞–∫–≤–∞ –µ –≤–∞—à–∞—Ç–∞ break-even –ª–æ–≥–∏–∫–∞? –ö–æ–≥–∞ –æ—á–∞–∫–≤–∞—Ç–µ –¥–∞ –∏–∑–ª–µ–∑–µ—Ç–µ –Ω–∞ –ø–µ—á–∞–ª–±–∞?",
        type: "text",
        required: true
      },
      {
        key: "scenarios",
        question: "–û–ø–∏—à–µ—Ç–µ 3 —Å—Ü–µ–Ω–∞—Ä–∏—è: –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–µ–Ω, —Ä–µ–∞–ª–∏—Å—Ç–∏—á–µ–Ω –∏ –ø–µ—Å–∏–º–∏—Å—Ç–∏—á–µ–Ω.",
        type: "text",
        required: true
      }
    ],
    requiredFields: ["main_costs", "main_revenue", "marketing_budget", "cac", "break_even", "scenarios"],
    exitCriteria: "–ò–º–∞ —á–∏—Å–ª–æ–≤–∞ –ª–æ–≥–∏–∫–∞ –∏ –µ —è—Å–Ω–æ –¥–∞–ª–∏ –±–∏–∑–Ω–µ—Å—ä—Ç –µ —É—Å—Ç–æ–π—á–∏–≤",
    completionMessage: "üéâ –§–∏–Ω–∞–Ω—Å–æ–≤–∏—è—Ç –º–æ–¥–µ–ª –µ –≥–æ—Ç–æ–≤. –ë–∏–∑–Ω–µ—Å –ø–ª–∞–Ω—ä—Ç –µ –∑–∞–≤—ä—Ä—à–µ–Ω! –°–µ–≥–∞ —â–µ –≥–µ–Ω–µ—Ä–∏—Ä–∞–º –≤–∞—à–∏—è —Å–µ–¥–º–∏—á–µ–Ω –ø–ª–∞–Ω –ø–æ –¥–Ω–∏ –∏ —á–∞—Å–æ–≤–µ.",
    summaryPrompt: "–°—ä–∑–¥–∞–π —Ñ–∏–Ω–∞–Ω—Å–æ–≤–∞ –ø—Ä–æ–≥–Ω–æ–∑–∞ —Å —Ä–∞–∑—Ö–æ–¥–∏, –ø—Ä–∏—Ö–æ–¥–∏, –º–∞—Ä–∫–µ—Ç–∏–Ω–≥ –±—é–¥–∂–µ—Ç, CAC, break-even –∞–Ω–∞–ª–∏–∑ –∏ —Ç—Ä–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è.",
    contextKeys: ["revenue_projection", "cost_structure", "marketing_budget", "break_even_timeline"]
  }
};

export function getQuestionsForStep(stepTitle: string): StepQuestions | null {
  return stepQuestionsMap[stepTitle] || null;
}

// Get step order by title
export function getStepOrder(stepTitle: string): number {
  const order: Record<string, number> = {
    "–†–µ–∑—é–º–µ –Ω–∞ –±–∏–∑–Ω–µ—Å–∞": 1,
    "–ü–∞–∑–∞—Ä–µ–Ω –∞–Ω–∞–ª–∏–∑": 2,
    "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è": 3,
    "–û–ø–µ—Ä–∞—Ç–∏–≤–µ–Ω –ø–ª–∞–Ω": 4,
    "–§–∏–Ω–∞–Ω—Å–æ–≤–∏ –ø—Ä–æ–≥–Ω–æ–∑–∏": 5
  };
  return order[stepTitle] || 0;
}

// Check if all required fields are collected
export function areRequiredFieldsComplete(stepTitle: string, answers: Record<string, string>): boolean {
  const stepQuestions = getQuestionsForStep(stepTitle);
  if (!stepQuestions) return false;
  
  return stepQuestions.requiredFields.every(field => {
    const answer = answers[field];
    return answer && 
           answer.trim().length > 0 && 
           !answer.toLowerCase().includes('–Ω–µ –∑–Ω–∞–º') &&
           !answer.toLowerCase().includes('–Ω–µ —Å—ä–º —Ä–µ—à–∏–ª') &&
           !answer.toLowerCase().includes('–Ω–µ —Å—ä–º —Å–∏–≥—É—Ä–µ–Ω');
  });
}

// Get all collected context from all steps
export function getAllContextKeys(): string[] {
  const allKeys: string[] = [];
  Object.values(stepQuestionsMap).forEach(step => {
    allKeys.push(...step.contextKeys);
  });
  return [...new Set(allKeys)];
}
