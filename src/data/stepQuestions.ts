// Question templates for each plan step with validation requirements
export interface StepQuestion {
  key: string;
  question: string;
  followUp?: string;
  type: 'text' | 'choice' | 'list';
  options?: string[];
  required: boolean;
}

export interface StepQuestions {
  stepTitle: string;
  botRole: string;
  greeting: string;
  questions: StepQuestion[];
  requiredFields: string[];
  exitCriteria: string;
  completionMessage: string;
  summaryPrompt: string;
  contextKeys: string[]; // Keys to store in bot_context for other bots
}

export const stepQuestionsMap: Record<string, StepQuestions> = {
  "–†–µ–∑—é–º–µ –Ω–∞ –±–∏–∑–Ω–µ—Å–∞": {
    stepTitle: "–†–µ–∑—é–º–µ –Ω–∞ –±–∏–∑–Ω–µ—Å–∞",
    botRole: "–ë–∏–∑–Ω–µ—Å –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä",
    greeting: `–ó–¥—Ä–∞–≤–µ–π—Ç–µ! üëã –ê–∑ —Å—ä–º –≤–∞—à–∏—è—Ç –ë–∏–∑–Ω–µ—Å –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä.

–ú–æ—è—Ç–∞ –∑–∞–¥–∞—á–∞ –µ –¥–∞ —Ä–∞–∑–±–µ—Ä–∞ –∫–∞–∫–≤–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–≤–∞ –≤–∞—à–∏—è—Ç –±–∏–∑–Ω–µ—Å –∏ –∫–∞–∫–≤–∞ –µ –∫—Ä–∞–π–Ω–∞—Ç–∞ –≤–∏ —Ü–µ–ª ‚Äì –±–µ–∑ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∑–∞—Å–µ–≥–∞.

–ó–∞ –¥–∞ –∑–∞–ø–æ—á–Ω–µ–º, –º–æ–ª—è –æ—Ç–≥–æ–≤–æ—Ä–µ—Ç–µ –Ω–∞ —Å–ª–µ–¥–Ω–∏—Ç–µ –≤—ä–ø—Ä–æ—Å–∏:

**1. –ö–∞–∫—ä–≤ –µ –≤–∞—à–∏—è—Ç –±–∏–∑–Ω–µ—Å?** (–ø—Ä–æ–¥—É–∫—Ç / —É—Å–ª—É–≥–∞ / SaaS / –æ–±—É—á–µ–Ω–∏–µ)
**2. –ó–∞ –∫–æ–≥–æ –µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω?** (–æ—Å–Ω–æ–≤–Ω–∞ –∞—É–¥–∏—Ç–æ—Ä–∏—è)
**3. –ö–∞–∫—ä–≤ –ø—Ä–æ–±–ª–µ–º —Ä–µ—à–∞–≤–∞ –∑–∞ —Ç—è—Ö?**`,
    questions: [
      {
        key: "business_type",
        question: "–ö–∞–∫—ä–≤ –µ –≤–∞—à–∏—è—Ç –±–∏–∑–Ω–µ—Å? (–ø—Ä–æ–¥—É–∫—Ç, —É—Å–ª—É–≥–∞, SaaS, –æ–±—É—á–µ–Ω–∏–µ, –∫–æ–Ω—Å—É–ª—Ç–∞—Ü–∏–∏...)",
        type: "text",
        required: true
      },
      {
        key: "target_audience",
        question: "–ó–∞ –∫–æ–≥–æ –µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω? –ö–æ—è –µ –≤–∞—à–∞—Ç–∞ –æ—Å–Ω–æ–≤–Ω–∞ –∞—É–¥–∏—Ç–æ—Ä–∏—è?",
        type: "text",
        required: true
      },
      {
        key: "problem_solved",
        question: "–ö–∞–∫—ä–≤ –ø—Ä–æ–±–ª–µ–º —Ä–µ—à–∞–≤–∞ –∑–∞ —Ç—è—Ö?",
        type: "text",
        required: true
      },
      {
        key: "revenue_model",
        question: "–ö–∞–∫ –ø–µ—á–µ–ª–∏ –ø–∞—Ä–∏ –±–∏–∑–Ω–µ—Å—ä—Ç? (–µ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–∏ –ø—Ä–æ–¥–∞–∂–±–∏, –∞–±–æ–Ω–∞–º–µ–Ω—Ç, –∫–æ–º–∏—Å–∏–æ–Ω–Ω–∞, —Ä–µ–∫–ª–∞–º–∞...)",
        type: "text",
        required: true
      },
      {
        key: "main_goal",
        question: "–ö–∞–∫–≤–∞ –µ –æ—Å–Ω–æ–≤–Ω–∞—Ç–∞ –≤–∏ —Ü–µ–ª? (—Ä–∞—Å—Ç–µ–∂, –ø—Ä–æ–¥–∞–∂–±–∏, –º–∞—â–∞–±–∏—Ä–∞–Ω–µ, –Ω–∞–≤–ª–∏–∑–∞–Ω–µ –Ω–∞ –Ω–æ–≤ –ø–∞–∑–∞—Ä...)",
        type: "text",
        required: true
      }
    ],
    requiredFields: ["business_type", "target_audience", "problem_solved", "revenue_model", "main_goal"],
    exitCriteria: "–í—Å–∏—á–∫–∏ 5 –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–∏ –ø–æ–ª–µ—Ç–∞ —Å–∞ –ø–æ–ø—ä–ª–Ω–µ–Ω–∏ —Å —è—Å–Ω–∏ –æ—Ç–≥–æ–≤–æ—Ä–∏ –±–µ–∑ '–Ω–µ –∑–Ω–∞–º' –∏–ª–∏ '–æ—â–µ –Ω–µ —Å—ä–º —Ä–µ—à–∏–ª'",
    completionMessage: "–ò–º–∞–º —è—Å–Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∞ –∑–∞ —Ç–≤–æ—è –±–∏–∑–Ω–µ—Å –∏ —Ü–µ–ª–∏—Ç–µ –º—É. –ú–æ–∂–µ–º –¥–∞ –ø—Ä–µ–º–∏–Ω–µ–º –∫—ä–º —Å–ª–µ–¥–≤–∞—â–æ—Ç–æ –Ω–∏–≤–æ ‚Äì –ü–∞–∑–∞—Ä–µ–Ω –∞–Ω–∞–ª–∏–∑.",
    summaryPrompt: "–°—ä–∑–¥–∞–π –∫—Ä–∞—Ç–∫–æ —Ä–µ–∑—é–º–µ (5-6 —Ä–µ–¥–∞) –Ω–∞ –±–∏–∑–Ω–µ—Å–∞ –±–∞–∑–∏—Ä–∞–Ω–æ –Ω–∞: —Ç–∏–ø –±–∏–∑–Ω–µ—Å, —Ü–µ–ª–µ–≤–∞ –∞—É–¥–∏—Ç–æ—Ä–∏—è, —Ä–µ—à–∞–≤–∞–Ω –ø—Ä–æ–±–ª–µ–º, –±–∏–∑–Ω–µ—Å –º–æ–¥–µ–ª –∏ –æ—Å–Ω–æ–≤–Ω–∞ —Ü–µ–ª.",
    contextKeys: ["business_type", "target_audience", "problem_solved", "revenue_model", "main_goal"]
  },
  
  "–ü–∞–∑–∞—Ä–µ–Ω –∞–Ω–∞–ª–∏–∑": {
    stepTitle: "–ü–∞–∑–∞—Ä–µ–Ω –∞–Ω–∞–ª–∏–∑",
    botRole: "–ü–∞–∑–∞—Ä–µ–Ω –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä",
    greeting: `–û—Ç–ª–∏—á–Ω–æ! üìä –ê–∑ —Å—ä–º –≤–∞—à–∏—è—Ç –ü–∞–∑–∞—Ä–µ–Ω –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä.

–í–µ—á–µ –∑–Ω–∞–º –∑–∞ –≤–∞—à–∏—è –±–∏–∑–Ω–µ—Å –æ—Ç –∫–æ–ª–µ–≥–∞—Ç–∞ –º–∏. –°–µ–≥–∞ —Ç—Ä—è–±–≤–∞ –¥–∞ –æ–ø—Ä–µ–¥–µ–ª–∏–º –¥–∞–ª–∏ –ø–∞–∑–∞—Ä—ä—Ç —Å–∏ —Å—Ç—Ä—É–≤–∞ –∏ –∫—ä–¥–µ –µ –≤—ä–∑–º–æ–∂–Ω–æ—Å—Ç—Ç–∞.

–ù–µ–∫–∞ –∑–∞–ø–æ—á–Ω–µ–º:

**1. –ö–æ–∏ —Å–∞ –≤–∞—à–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∏?** (–º–∏–Ω–∏–º—É–º 3)
**2. –ö–∞–∫ –∫–ª–∏–µ–Ω—Ç–∏—Ç–µ –∫—É–ø—É–≤–∞—Ç –≤ –º–æ–º–µ–Ω—Ç–∞?**
**3. –ö–∞–∫–≤–∏ —Å–∞ –∞–ª—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏—Ç–µ?** (–≤–∫–ª—é—á–∏—Ç–µ–ª–Ω–æ "–Ω–∏—â–æ –Ω–µ –ø—Ä–∞–≤—è")`,
    questions: [
      {
        key: "competitors",
        question: "–ö–æ–∏ —Å–∞ –≤–∞—à–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∏? –ù–∞–∑–æ–≤–µ—Ç–µ –º–∏–Ω–∏–º—É–º 3.",
        type: "text",
        required: true
      },
      {
        key: "buying_behavior",
        question: "–ö–∞–∫ –∫–ª–∏–µ–Ω—Ç–∏—Ç–µ –∫—É–ø—É–≤–∞—Ç –ø–æ–¥–æ–±–Ω–∏ —Ä–µ—à–µ–Ω–∏—è –≤ –º–æ–º–µ–Ω—Ç–∞?",
        type: "text",
        required: true
      },
      {
        key: "alternatives",
        question: "–ö–∞–∫–≤–∏ —Å–∞ –∞–ª—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏—Ç–µ –∑–∞ –∫–ª–∏–µ–Ω—Ç–∏—Ç–µ? (–≤–∫–ª—é—á–∏—Ç–µ–ª–Ω–æ '–Ω–∏—â–æ –Ω–µ –ø—Ä–∞–≤—è')",
        type: "text",
        required: true
      },
      {
        key: "market_prices",
        question: "–ö–∞–∫–≤–∏ —Å–∞ –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª–Ω–∏—Ç–µ —Ü–µ–Ω–∏ –Ω–∞ –ø–∞–∑–∞—Ä–∞ –∑–∞ –ø–æ–¥–æ–±–Ω–∏ –ø—Ä–æ–¥—É–∫—Ç–∏/—É—Å–ª—É–≥–∏?",
        type: "text",
        required: true
      },
      {
        key: "entry_barriers",
        question: "–ö–∞–∫–≤–∏ —Å–∞ –æ—Å–Ω–æ–≤–Ω–∏—Ç–µ –±–∞—Ä–∏–µ—Ä–∏ –∑–∞ –≤–ª–∏–∑–∞–Ω–µ –Ω–∞ —Ç–æ–∑–∏ –ø–∞–∑–∞—Ä?",
        type: "text",
        required: true
      }
    ],
    requiredFields: ["competitors", "buying_behavior", "alternatives", "market_prices", "entry_barriers"],
    exitCriteria: "–Ø—Å–Ω–æ –µ –∫–æ–π –ø–µ—á–µ–ª–∏, –∫–æ–π –≥—É–±–∏ –∏ –∫—ä–¥–µ –∏–º–∞ –ø—Ä–∞–∑–Ω–æ –º—è—Å—Ç–æ –Ω–∞ –ø–∞–∑–∞—Ä–∞",
    completionMessage: "–ü–∞–∑–∞—Ä—ä—Ç –µ –∞–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω –∏ –∏–º–∞ —è—Å–Ω–∞ –≤—ä–∑–º–æ–∂–Ω–æ—Å—Ç –∑–∞ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–∞–Ω–µ. –ì–æ—Ç–æ–≤–∏ —Å–º–µ –¥–∞ –ø—Ä–µ–º–∏–Ω–µ–º –∫—ä–º –º–∞—Ä–∫–µ—Ç–∏–Ω–≥ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è.",
    summaryPrompt: "–ê–Ω–∞–ª–∏–∑–∏—Ä–∞–π –ø–∞–∑–∞—Ä–∞: –∫–æ–π –ø–µ—á–µ–ª–∏, –∫–æ–π –≥—É–±–∏, –∫—ä–¥–µ –∏–º–∞ –ø—Ä–∞–∑–Ω–æ –º—è—Å—Ç–æ. –ë–∞–∑–∏—Ä–∞–π —Å–µ –Ω–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∏—Ç–µ, –ø–æ–≤–µ–¥–µ–Ω–∏–µ—Ç–æ –Ω–∞ –∫—É–ø—É–≤–∞—á–∏—Ç–µ –∏ –±–∞—Ä–∏–µ—Ä–∏—Ç–µ.",
    contextKeys: ["competitors", "market_opportunity", "competitive_advantage"]
  },

  "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è": {
    stepTitle: "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è",
    botRole: "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ –°—Ç—Ä–∞—Ç–µ–≥",
    greeting: `–°—Ç—Ä–∞—Ö–æ—Ç–Ω–æ! üìà –ê–∑ —Å—ä–º –≤–∞—à–∏—è—Ç –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ –°—Ç—Ä–∞—Ç–µ–≥.

–ò–º–∞–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞ –±–∏–∑–Ω–µ—Å–∞ –∏ –ø–∞–∑–∞—Ä–∞ –æ—Ç –∫–æ–ª–µ–≥–∏—Ç–µ. –°–µ–≥–∞ —Ç—Ä—è–±–≤–∞ –¥–∞ –æ—Ç–≥–æ–≤–æ—Ä–∏–º –Ω–∞ –≤—ä–ø—Ä–æ—Å–∞: –∫–∞–∫ —â–µ –≤–ª–µ–∑–µ–º –Ω–∞ –ø–∞–∑–∞—Ä–∞ –∏ —Å –∫–∞–∫–≤–æ –ø–æ—Å–ª–∞–Ω–∏–µ?

–ù–µ–∫–∞ –∑–∞–ø–æ—á–Ω–µ–º:

**1. –ö–∞–∫–≤–æ –µ –≤–∞—à–µ—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–∞–Ω–µ?** (–∑–∞—â–æ –∫–ª–∏–µ–Ω—Ç—ä—Ç –¥–∞ –∏–∑–±–µ—Ä–µ –≤–∞—Å, –∞ –Ω–µ –¥—Ä—É–≥)
**2. –ö–æ–∏ –∫–∞–Ω–∞–ª–∏ –ø–ª–∞–Ω–∏—Ä–∞—Ç–µ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ?** (Instagram, TikTok, Ads, Email...)
**3. –ö–∞–∫–≤–æ –µ –æ—Å–Ω–æ–≤–Ω–æ—Ç–æ –≤–∏ –ø–æ—Å–ª–∞–Ω–∏–µ?**`,
    questions: [
      {
        key: "positioning",
        question: "–ö–∞–∫–≤–æ –µ –≤–∞—à–µ—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–∞–Ω–µ? –ó–∞—â–æ –∫–ª–∏–µ–Ω—Ç—ä—Ç –¥–∞ –∏–∑–±–µ—Ä–µ –≤–∞—Å, –∞ –Ω–µ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç?",
        type: "text",
        required: true
      },
      {
        key: "channels",
        question: "–ö–æ–∏ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥ –∫–∞–Ω–∞–ª–∏ —â–µ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ? (Instagram, TikTok, Facebook Ads, Email, SEO...)",
        type: "text",
        required: true
      },
      {
        key: "main_message",
        question: "–ö–∞–∫–≤–æ –µ –æ—Å–Ω–æ–≤–Ω–æ—Ç–æ –≤–∏ –ø–æ—Å–ª–∞–Ω–∏–µ –∫—ä–º –∫–ª–∏–µ–Ω—Ç–∏—Ç–µ?",
        type: "text",
        required: true
      },
      {
        key: "lead_mechanism",
        question: "–ö–∞–∫ —â–µ —Ö–≤–∞—â–∞—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ—Ç–æ? –ö–∞–∫—ä–≤ –µ –≤–∞—à–∏—è—Ç lead –º–∞–≥–Ω–∏—Ç –∏–ª–∏ hook?",
        type: "text",
        required: true
      },
      {
        key: "cta",
        question: "–ö–∞–∫–≤–∞ –µ —Å–ª–µ–¥–≤–∞—â–∞—Ç–∞ —Å—Ç—ä–ø–∫–∞ –∑–∞ –∫–ª–∏–µ–Ω—Ç–∞? (CTA - Call to Action)",
        type: "text",
        required: true
      }
    ],
    requiredFields: ["positioning", "channels", "main_message", "lead_mechanism", "cta"],
    exitCriteria: "–ò–º–∞ 1 —è—Å–Ω–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–∞–Ω–µ –∏ –ø–æ–Ω–µ 3 –º–∞—Ä–∫–µ—Ç–∏–Ω–≥ –∫–∞–Ω–∞–ª–∞ —Å —è—Å–Ω–∞ —Ä–æ–ª—è",
    completionMessage: "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è—Ç–∞ –µ —è—Å–Ω–∞ –∏ –ø–æ–¥—Ä–µ–¥–µ–Ω–∞. –ú–æ–∂–µ–º –¥–∞ –ø—Ä–µ–º–∏–Ω–µ–º –∫—ä–º –æ–ø–µ—Ä–∞—Ç–∏–≤–µ–Ω –ø–ª–∞–Ω.",
    summaryPrompt: "–°—ä–∑–¥–∞–π –º–∞—Ä–∫–µ—Ç–∏–Ω–≥ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Å —è—Å–Ω–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–∞–Ω–µ, –∏–∑–±—Ä–∞–Ω–∏ –∫–∞–Ω–∞–ª–∏, –æ—Å–Ω–æ–≤–Ω–æ –ø–æ—Å–ª–∞–Ω–∏–µ, lead –º–µ—Ö–∞–Ω–∏–∑—ä–º –∏ CTA.",
    contextKeys: ["positioning", "marketing_channels", "main_message", "cta"]
  },

  "–û–ø–µ—Ä–∞—Ç–∏–≤–µ–Ω –ø–ª–∞–Ω": {
    stepTitle: "–û–ø–µ—Ä–∞—Ç–∏–≤–µ–Ω –ø–ª–∞–Ω",
    botRole: "–û–ø–µ—Ä–∞—Ç–∏–≤–µ–Ω –ú–µ–Ω–∏–¥–∂—ä—Ä",
    greeting: `–ü–µ—Ä—Ñ–µ–∫—Ç–Ω–æ! ‚öôÔ∏è –ê–∑ —Å—ä–º –≤–∞—à–∏—è—Ç –û–ø–µ—Ä–∞—Ç–∏–≤–µ–Ω –ú–µ–Ω–∏–¥–∂—ä—Ä.

–ò–º–∞–º —Å—Ç—Ä–∞—Ç–µ–≥–∏—è—Ç–∞ –æ—Ç –º–∞—Ä–∫–µ—Ç–∏–Ω–≥ –∫–æ–ª–µ–≥–∞—Ç–∞. –°–µ–≥–∞ —Ç—Ä—è–±–≤–∞ –¥–∞ —è –ø—Ä–µ–≤—ä—Ä–Ω–µ–º –≤ —Ä–µ–∞–ª–Ω–∏ –¥–µ–π—Å—Ç–≤–∏—è.

–ù–µ–∫–∞ –∑–∞–ø–æ—á–Ω–µ–º:

**1. –ö–∞–∫–≤–æ —Å–µ –ø—Ä–∞–≤–∏ –¥–Ω–µ–≤–Ω–æ/—Å–µ–¥–º–∏—á–Ω–æ?**
**2. –ö–æ–π –≥–æ –ø—Ä–∞–≤–∏?** (—á–æ–≤–µ–∫ / AI / –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è)
**3. –ö–∞–∫–≤–∏ —Ä–µ—Å—É—Ä—Å–∏ —Å–∞ –Ω—É–∂–Ω–∏?**`,
    questions: [
      {
        key: "daily_weekly_tasks",
        question: "–ö–∞–∫–≤–æ —Å–µ –ø—Ä–∞–≤–∏ –¥–Ω–µ–≤–Ω–æ –∏ —Å–µ–¥–º–∏—á–Ω–æ –∑–∞ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è—Ç–∞?",
        type: "text",
        required: true
      },
      {
        key: "who_does_it",
        question: "–ö–æ–π –∏–∑–ø—ä–ª–Ω—è–≤–∞ –∑–∞–¥–∞—á–∏—Ç–µ? (–≤–∏–µ, –µ–∫–∏–ø, AI, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è, –∞—É—Ç—Å–æ—Ä—Å–∏–Ω–≥)",
        type: "text",
        required: true
      },
      {
        key: "resources_needed",
        question: "–ö–∞–∫–≤–∏ —Ä–µ—Å—É—Ä—Å–∏ —Å–∞ –Ω—É–∂–Ω–∏? (–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏, —Å–æ—Ñ—Ç—É–µ—Ä, –æ–±–æ—Ä—É–¥–≤–∞–Ω–µ)",
        type: "text",
        required: true
      },
      {
        key: "priorities",
        question: "–ö–∞–∫–≤–∏ —Å–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∏—Ç–µ? –ö–æ–µ —Å–µ –ø—Ä–∞–≤–∏ –ø—ä—Ä–≤–æ?",
        type: "text",
        required: true
      },
      {
        key: "first_30_days",
        question: "–û–ø–∏—à–µ—Ç–µ –ø–ª–∞–Ω–∞ –∑–∞ –ø—ä—Ä–≤–∏—Ç–µ 14-30 –¥–Ω–∏. –ö–∞–∫–≤–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏ –¥–µ–π—Å—Ç–≤–∏—è?",
        type: "text",
        required: true
      }
    ],
    requiredFields: ["daily_weekly_tasks", "who_does_it", "resources_needed", "priorities", "first_30_days"],
    exitCriteria: "–ò–º–∞ —è—Å–µ–Ω action plan –±–µ–∑ '–Ω—è–∫–æ–π –¥–µ–Ω' –∏–ª–∏ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏ —Å—Ä–æ–∫–æ–≤–µ",
    completionMessage: "–ò–º–∞–º–µ –∫–æ–Ω–∫—Ä–µ—Ç–µ–Ω –ø–ª–∞–Ω –∑–∞ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ. –°–ª–µ–¥–≤–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–∞—Ç–∞ –ø—Ä–æ–≥–Ω–æ–∑–∞.",
    summaryPrompt: "–°—ä–∑–¥–∞–π –æ–ø–µ—Ä–∞—Ç–∏–≤–µ–Ω –ø–ª–∞–Ω —Å –¥–Ω–µ–≤–Ω–∏/—Å–µ–¥–º–∏—á–Ω–∏ –∑–∞–¥–∞—á–∏, –æ—Ç–≥–æ–≤–æ—Ä–Ω–∏—Ü–∏, —Ä–µ—Å—É—Ä—Å–∏, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∏ –∏ –ø–ª–∞–Ω –∑–∞ –ø—ä—Ä–≤–∏—Ç–µ 30 –¥–Ω–∏.",
    contextKeys: ["key_activities", "team_structure", "priorities"]
  },

  "–§–∏–Ω–∞–Ω—Å–æ–≤–∏ –ø—Ä–æ–≥–Ω–æ–∑–∏": {
    stepTitle: "–§–∏–Ω–∞–Ω—Å–æ–≤–∏ –ø—Ä–æ–≥–Ω–æ–∑–∏",
    botRole: "–§–∏–Ω–∞–Ω—Å–æ–≤ –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä",
    greeting: `–ß—É–¥–µ—Å–Ω–æ! üí∞ –ê–∑ —Å—ä–º –≤–∞—à–∏—è—Ç –§–∏–Ω–∞–Ω—Å–æ–≤ –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä.

–ò–º–∞–º –ø—ä–ª–Ω–∞—Ç–∞ –∫–∞—Ä—Ç–∏–Ω–∞ –æ—Ç –∫–æ–ª–µ–≥–∏—Ç–µ ‚Äì –±–∏–∑–Ω–µ—Å –º–æ–¥–µ–ª, –ø–∞–∑–∞—Ä, —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∏ –æ–ø–µ—Ä–∞—Ü–∏–∏. –°–µ–≥–∞ —Ç—Ä—è–±–≤–∞ –¥–∞ –≤–∏–¥–∏–º –¥–∞–ª–∏ –∏–º–∞ —Å–º–∏—Å—ä–ª –∏–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏.

–ù–µ–∫–∞ –∑–∞–ø–æ—á–Ω–µ–º:

**1. –ö–∞–∫–≤–∏ —Å–∞ –æ—Å–Ω–æ–≤–Ω–∏—Ç–µ –≤–∏ —Ä–∞–∑—Ö–æ–¥–∏?**
**2. –ö–∞–∫–≤–∏ —Å–∞ –æ—á–∞–∫–≤–∞–Ω–∏—Ç–µ –ø—Ä–∏—Ö–æ–¥–∏?**
**3. –ö–∞–∫—ä–≤ –µ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤—ä—á–µ–Ω —Ä–∞–∑—Ö–æ–¥ –∑–∞ –ø—Ä–∏–¥–æ–±–∏–≤–∞–Ω–µ –Ω–∞ –∫–ª–∏–µ–Ω—Ç (CAC)?**`,
    questions: [
      {
        key: "main_costs",
        question: "–ö–∞–∫–≤–∏ —Å–∞ –æ—Å–Ω–æ–≤–Ω–∏—Ç–µ –≤–∏ —Ä–∞–∑—Ö–æ–¥–∏? (—Ñ–∏–∫—Å–∏—Ä–∞–Ω–∏ –∏ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏)",
        type: "text",
        required: true
      },
      {
        key: "main_revenue",
        question: "–ö–∞–∫–≤–∏ —Å–∞ –æ—á–∞–∫–≤–∞–Ω–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω–∏ –ø—Ä–∏—Ö–æ–¥–∏?",
        type: "text",
        required: true
      },
      {
        key: "cac",
        question: "–ö–∞–∫—ä–≤ –µ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤—ä—á–Ω–∏—è—Ç —Ä–∞–∑—Ö–æ–¥ –∑–∞ –ø—Ä–∏–¥–æ–±–∏–≤–∞–Ω–µ –Ω–∞ –∫–ª–∏–µ–Ω—Ç (CAC)?",
        type: "text",
        required: true
      },
      {
        key: "break_even",
        question: "–ö–∞–∫–≤–∞ –µ –≤–∞—à–∞—Ç–∞ break-even –ª–æ–≥–∏–∫–∞? –ö–æ–≥–∞ –æ—á–∞–∫–≤–∞—Ç–µ –¥–∞ –∏–∑–ª–µ–∑–µ—Ç–µ –Ω–∞ –ø–µ—á–∞–ª–±–∞?",
        type: "text",
        required: true
      },
      {
        key: "scenarios",
        question: "–û–ø–∏—à–µ—Ç–µ 3 —Å—Ü–µ–Ω–∞—Ä–∏—è: –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–µ–Ω, —Ä–µ–∞–ª–∏—Å—Ç–∏—á–µ–Ω –∏ –ø–µ—Å–∏–º–∏—Å—Ç–∏—á–µ–Ω.",
        type: "text",
        required: true
      }
    ],
    requiredFields: ["main_costs", "main_revenue", "cac", "break_even", "scenarios"],
    exitCriteria: "–ò–º–∞ —á–∏—Å–ª–æ–≤–∞ –ª–æ–≥–∏–∫–∞ –∏ –µ —è—Å–Ω–æ –¥–∞–ª–∏ –±–∏–∑–Ω–µ—Å—ä—Ç –µ —É—Å—Ç–æ–π—á–∏–≤",
    completionMessage: "–§–∏–Ω–∞–Ω—Å–æ–≤–∏—è—Ç –º–æ–¥–µ–ª –µ –≥–æ—Ç–æ–≤. –ë–∏–∑–Ω–µ—Å –ø–ª–∞–Ω—ä—Ç –µ –∑–∞–≤—ä—Ä—à–µ–Ω! üéâ",
    summaryPrompt: "–°—ä–∑–¥–∞–π —Ñ–∏–Ω–∞–Ω—Å–æ–≤–∞ –ø—Ä–æ–≥–Ω–æ–∑–∞ —Å —Ä–∞–∑—Ö–æ–¥–∏, –ø—Ä–∏—Ö–æ–¥–∏, CAC, break-even –∞–Ω–∞–ª–∏–∑ –∏ —Ç—Ä–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è (–æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–µ–Ω/—Ä–µ–∞–ª–∏—Å—Ç–∏—á–µ–Ω/–ø–µ—Å–∏–º–∏—Å—Ç–∏—á–µ–Ω).",
    contextKeys: ["revenue_projection", "cost_structure", "break_even_timeline"]
  }
};

export function getQuestionsForStep(stepTitle: string): StepQuestions | null {
  return stepQuestionsMap[stepTitle] || null;
}

// Get step order by title
export function getStepOrder(stepTitle: string): number {
  const order: Record<string, number> = {
    "–†–µ–∑—é–º–µ –Ω–∞ –±–∏–∑–Ω–µ—Å–∞": 1,
    "–ü–∞–∑–∞—Ä–µ–Ω –∞–Ω–∞–ª–∏–∑": 2,
    "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è": 3,
    "–û–ø–µ—Ä–∞—Ç–∏–≤–µ–Ω –ø–ª–∞–Ω": 4,
    "–§–∏–Ω–∞–Ω—Å–æ–≤–∏ –ø—Ä–æ–≥–Ω–æ–∑–∏": 5
  };
  return order[stepTitle] || 0;
}

// Check if all required fields are collected
export function areRequiredFieldsComplete(stepTitle: string, answers: Record<string, string>): boolean {
  const stepQuestions = getQuestionsForStep(stepTitle);
  if (!stepQuestions) return false;
  
  return stepQuestions.requiredFields.every(field => {
    const answer = answers[field];
    return answer && 
           answer.trim().length > 0 && 
           !answer.toLowerCase().includes('–Ω–µ –∑–Ω–∞–º') &&
           !answer.toLowerCase().includes('–Ω–µ —Å—ä–º —Ä–µ—à–∏–ª') &&
           !answer.toLowerCase().includes('–Ω–µ —Å—ä–º —Å–∏–≥—É—Ä–µ–Ω');
  });
}
